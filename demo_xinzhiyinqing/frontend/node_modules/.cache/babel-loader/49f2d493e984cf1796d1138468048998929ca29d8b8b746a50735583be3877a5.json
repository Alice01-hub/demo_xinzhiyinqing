{"ast":null,"code":"import React,{useState}from'react';import'./ApiKeyConfig.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ApiKeyConfig=_ref=>{let{onConfigSuccess}=_ref;const[apiKey,setApiKey]=useState('');const[appId,setAppId]=useState('');const[isLoading,setIsLoading]=useState(false);const[error,setError]=useState('');const handleSubmit=async e=>{e.preventDefault();setIsLoading(true);setError('');try{const response=await fetch('http://localhost:8000/validate-api-key',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({api_key:apiKey,app_id:appId})});const data=await response.json();if(data.success){onConfigSuccess(apiKey,appId);}else{setError(data.message||'APIÂØÜÈí•È™åËØÅÂ§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ËæìÂÖ•ÊòØÂê¶Ê≠£Á°Æ');}}catch(err){setError('ÁΩëÁªúËøûÊé•Â§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ÂêéÁ´ØÊúçÂä°ÊòØÂê¶Ê≠£Â∏∏ËøêË°å');}finally{setIsLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"api-key-config\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"config-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"config-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDD11 API\\u5BC6\\u94A5\\u914D\\u7F6E\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u8BF7\\u8F93\\u5165\\u60A8\\u7684\\u963F\\u91CC\\u4E91\\u767E\\u70BCAPI\\u5BC6\\u94A5\\u548CApp ID\\u4EE5\\u5F00\\u59CB\\u4F7F\\u7528\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"config-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"apiKey\",children:\"API Key:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"apiKey\",value:apiKey,onChange:e=>setApiKey(e.target.value),placeholder:\"\\u8BF7\\u8F93\\u5165\\u60A8\\u7684API Key\",required:true,disabled:isLoading})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"appId\",children:\"App ID:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"appId\",value:appId,onChange:e=>setAppId(e.target.value),placeholder:\"\\u8BF7\\u8F93\\u5165\\u60A8\\u7684App ID\",required:true,disabled:isLoading})]}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"error-message\",children:[\"\\u274C \",error]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submit-button\",disabled:isLoading||!apiKey||!appId,children:isLoading?'È™åËØÅ‰∏≠...':'È™åËØÅÂπ∂ÂºÄÂßã‰ΩøÁî®'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"config-help\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u5982\\u4F55\\u83B7\\u53D6API\\u5BC6\\u94A5\\uFF1F\"}),/*#__PURE__*/_jsxs(\"ol\",{children:[/*#__PURE__*/_jsxs(\"li\",{children:[\"\\u8BBF\\u95EE \",/*#__PURE__*/_jsx(\"a\",{href:\"https://bailian.console.aliyun.com/\",target:\"_blank\",rel:\"noopener noreferrer\",children:\"\\u963F\\u91CC\\u4E91\\u767E\\u70BC\\u63A7\\u5236\\u53F0\"})]}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u521B\\u5EFA\\u5E94\\u7528\\u5E76\\u83B7\\u53D6API Key\\u548CApp ID\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u5C06\\u83B7\\u53D6\\u7684\\u5BC6\\u94A5\\u4FE1\\u606F\\u586B\\u5165\\u4E0A\\u65B9\\u8868\\u5355\"})]})]})]})});};export default ApiKeyConfig;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","ApiKeyConfig","_ref","onConfigSuccess","apiKey","setApiKey","appId","setAppId","isLoading","setIsLoading","error","setError","handleSubmit","e","preventDefault","response","fetch","method","headers","body","JSON","stringify","api_key","app_id","data","json","success","message","err","className","children","onSubmit","htmlFor","type","id","value","onChange","target","placeholder","required","disabled","href","rel"],"sources":["H:/ÊØï‰∏ö/ÊâæÂ∑•‰Ωú/ÂøÉÁü•ÂºïÊìé/demo_xinzhiyinqing/frontend/src/components/ApiKeyConfig.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport './ApiKeyConfig.css';\r\n\r\ninterface ApiKeyConfigProps {\r\n  onConfigSuccess: (apiKey: string, appId: string) => void;\r\n}\r\n\r\nconst ApiKeyConfig: React.FC<ApiKeyConfigProps> = ({ onConfigSuccess }) => {\r\n  const [apiKey, setApiKey] = useState('');\r\n  const [appId, setAppId] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setIsLoading(true);\r\n    setError('');\r\n\r\n    try {\r\n      const response = await fetch('http://localhost:8000/validate-api-key', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          api_key: apiKey,\r\n          app_id: appId,\r\n        }),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (data.success) {\r\n        onConfigSuccess(apiKey, appId);\r\n      } else {\r\n        setError(data.message || 'APIÂØÜÈí•È™åËØÅÂ§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ËæìÂÖ•ÊòØÂê¶Ê≠£Á°Æ');\r\n      }\r\n    } catch (err) {\r\n      setError('ÁΩëÁªúËøûÊé•Â§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ÂêéÁ´ØÊúçÂä°ÊòØÂê¶Ê≠£Â∏∏ËøêË°å');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"api-key-config\">\r\n      <div className=\"config-container\">\r\n        <div className=\"config-header\">\r\n          <h2>üîë APIÂØÜÈí•ÈÖçÁΩÆ</h2>\r\n          <p>ËØ∑ËæìÂÖ•ÊÇ®ÁöÑÈòøÈáå‰∫ëÁôæÁÇºAPIÂØÜÈí•ÂíåApp ID‰ª•ÂºÄÂßã‰ΩøÁî®</p>\r\n        </div>\r\n        \r\n        <form onSubmit={handleSubmit} className=\"config-form\">\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"apiKey\">API Key:</label>\r\n            <input\r\n              type=\"password\"\r\n              id=\"apiKey\"\r\n              value={apiKey}\r\n              onChange={(e) => setApiKey(e.target.value)}\r\n              placeholder=\"ËØ∑ËæìÂÖ•ÊÇ®ÁöÑAPI Key\"\r\n              required\r\n              disabled={isLoading}\r\n            />\r\n          </div>\r\n          \r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"appId\">App ID:</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"appId\"\r\n              value={appId}\r\n              onChange={(e) => setAppId(e.target.value)}\r\n              placeholder=\"ËØ∑ËæìÂÖ•ÊÇ®ÁöÑApp ID\"\r\n              required\r\n              disabled={isLoading}\r\n            />\r\n          </div>\r\n          \r\n          {error && (\r\n            <div className=\"error-message\">\r\n              ‚ùå {error}\r\n            </div>\r\n          )}\r\n          \r\n          <button \r\n            type=\"submit\" \r\n            className=\"submit-button\"\r\n            disabled={isLoading || !apiKey || !appId}\r\n          >\r\n            {isLoading ? 'È™åËØÅ‰∏≠...' : 'È™åËØÅÂπ∂ÂºÄÂßã‰ΩøÁî®'}\r\n          </button>\r\n        </form>\r\n        \r\n        <div className=\"config-help\">\r\n          <h3>Â¶Ç‰ΩïËé∑ÂèñAPIÂØÜÈí•Ôºü</h3>\r\n          <ol>\r\n            <li>ËÆøÈóÆ <a href=\"https://bailian.console.aliyun.com/\" target=\"_blank\" rel=\"noopener noreferrer\">ÈòøÈáå‰∫ëÁôæÁÇºÊéßÂà∂Âè∞</a></li>\r\n            <li>ÂàõÂª∫Â∫îÁî®Âπ∂Ëé∑ÂèñAPI KeyÂíåApp ID</li>\r\n            <li>Â∞ÜËé∑ÂèñÁöÑÂØÜÈí•‰ø°ÊÅØÂ°´ÂÖ•‰∏äÊñπË°®Âçï</li>\r\n          </ol>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ApiKeyConfig;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAM5B,KAAM,CAAAC,YAAyC,CAAGC,IAAA,EAAyB,IAAxB,CAAEC,eAAgB,CAAC,CAAAD,IAAA,CACpE,KAAM,CAACE,MAAM,CAAEC,SAAS,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACU,KAAK,CAAEC,QAAQ,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACY,SAAS,CAAEC,YAAY,CAAC,CAAGb,QAAQ,CAAC,KAAK,CAAC,CACjD,KAAM,CAACc,KAAK,CAAEC,QAAQ,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAEtC,KAAM,CAAAgB,YAAY,CAAG,KAAO,CAAAC,CAAkB,EAAK,CACjDA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBL,YAAY,CAAC,IAAI,CAAC,CAClBE,QAAQ,CAAC,EAAE,CAAC,CAEZ,GAAI,CACF,KAAM,CAAAI,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,wCAAwC,CAAE,CACrEC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnBC,OAAO,CAAElB,MAAM,CACfmB,MAAM,CAAEjB,KACV,CAAC,CACH,CAAC,CAAC,CAEF,KAAM,CAAAkB,IAAI,CAAG,KAAM,CAAAT,QAAQ,CAACU,IAAI,CAAC,CAAC,CAElC,GAAID,IAAI,CAACE,OAAO,CAAE,CAChBvB,eAAe,CAACC,MAAM,CAAEE,KAAK,CAAC,CAChC,CAAC,IAAM,CACLK,QAAQ,CAACa,IAAI,CAACG,OAAO,EAAI,qBAAqB,CAAC,CACjD,CACF,CAAE,MAAOC,GAAG,CAAE,CACZjB,QAAQ,CAAC,sBAAsB,CAAC,CAClC,CAAC,OAAS,CACRF,YAAY,CAAC,KAAK,CAAC,CACrB,CACF,CAAC,CAED,mBACEX,IAAA,QAAK+B,SAAS,CAAC,gBAAgB,CAAAC,QAAA,cAC7B9B,KAAA,QAAK6B,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/B9B,KAAA,QAAK6B,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BhC,IAAA,OAAAgC,QAAA,CAAI,0CAAU,CAAI,CAAC,cACnBhC,IAAA,MAAAgC,QAAA,CAAG,uHAA2B,CAAG,CAAC,EAC/B,CAAC,cAEN9B,KAAA,SAAM+B,QAAQ,CAAEnB,YAAa,CAACiB,SAAS,CAAC,aAAa,CAAAC,QAAA,eACnD9B,KAAA,QAAK6B,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBhC,IAAA,UAAOkC,OAAO,CAAC,QAAQ,CAAAF,QAAA,CAAC,UAAQ,CAAO,CAAC,cACxChC,IAAA,UACEmC,IAAI,CAAC,UAAU,CACfC,EAAE,CAAC,QAAQ,CACXC,KAAK,CAAE/B,MAAO,CACdgC,QAAQ,CAAGvB,CAAC,EAAKR,SAAS,CAACQ,CAAC,CAACwB,MAAM,CAACF,KAAK,CAAE,CAC3CG,WAAW,CAAC,uCAAc,CAC1BC,QAAQ,MACRC,QAAQ,CAAEhC,SAAU,CACrB,CAAC,EACC,CAAC,cAENR,KAAA,QAAK6B,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBhC,IAAA,UAAOkC,OAAO,CAAC,OAAO,CAAAF,QAAA,CAAC,SAAO,CAAO,CAAC,cACtChC,IAAA,UACEmC,IAAI,CAAC,MAAM,CACXC,EAAE,CAAC,OAAO,CACVC,KAAK,CAAE7B,KAAM,CACb8B,QAAQ,CAAGvB,CAAC,EAAKN,QAAQ,CAACM,CAAC,CAACwB,MAAM,CAACF,KAAK,CAAE,CAC1CG,WAAW,CAAC,sCAAa,CACzBC,QAAQ,MACRC,QAAQ,CAAEhC,SAAU,CACrB,CAAC,EACC,CAAC,CAELE,KAAK,eACJV,KAAA,QAAK6B,SAAS,CAAC,eAAe,CAAAC,QAAA,EAAC,SAC3B,CAACpB,KAAK,EACL,CACN,cAEDZ,IAAA,WACEmC,IAAI,CAAC,QAAQ,CACbJ,SAAS,CAAC,eAAe,CACzBW,QAAQ,CAAEhC,SAAS,EAAI,CAACJ,MAAM,EAAI,CAACE,KAAM,CAAAwB,QAAA,CAExCtB,SAAS,CAAG,QAAQ,CAAG,SAAS,CAC3B,CAAC,EACL,CAAC,cAEPR,KAAA,QAAK6B,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BhC,IAAA,OAAAgC,QAAA,CAAI,+CAAU,CAAI,CAAC,cACnB9B,KAAA,OAAA8B,QAAA,eACE9B,KAAA,OAAA8B,QAAA,EAAI,eAAG,cAAAhC,IAAA,MAAG2C,IAAI,CAAC,qCAAqC,CAACJ,MAAM,CAAC,QAAQ,CAACK,GAAG,CAAC,qBAAqB,CAAAZ,QAAA,CAAC,kDAAQ,CAAG,CAAC,EAAI,CAAC,cAChHhC,IAAA,OAAAgC,QAAA,CAAI,+DAAqB,CAAI,CAAC,cAC9BhC,IAAA,OAAAgC,QAAA,CAAI,sFAAc,CAAI,CAAC,EACrB,CAAC,EACF,CAAC,EACH,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAA7B,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}